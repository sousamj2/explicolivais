<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Prefill Query Test</title>
</head>
<body>

<textarea id="prefillBox" rows="4" style="width: 100%; font-family: monospace;">
INSERT INTO users (name, email, address, zip_code, cell_phone, register_ip, last_login) VALUES ('O meu nome', 'email001@mail.com', 'A minha morada', '1234-567', '900000001', '111.111.111.001', NOW());
</textarea>

<p>
  Number suffix (0-255): <input type="number" id="numberInput" min="0" max="255" value="1" />
</p>

<button id="btnUpdatePrefill">Update Number in Prefill</button>
<button id="btnPastePrefill">Paste Prefill to Query</button>

<textarea id="sqlInput" placeholder="Final SQL query will be here..." rows="5" style="width: 100%; font-family: monospace;"></textarea>

<script>
  (function () {
    const prefillBox = document.getElementById('prefillBox');
    const numberInput = document.getElementById('numberInput');
    const sqlInput = document.getElementById('sqlInput');

    // Capture the original template text upon loading
    const originalTemplate = prefillBox.value;

    function padNum(num) {
      return String(num).padStart(3, '0');
    }

    document.getElementById('btnUpdatePrefill').addEventListener('click', () => {
      const num = numberInput.value;
      if (num === '' || isNaN(num) || num < 0 || num > 255) {
        alert('Please enter a valid number from 0 to 255');
        return;
      }
      const paddedNum = padNum(num);
      const updatedText = originalTemplate.replace(/001/g, paddedNum);
      prefillBox.value = updatedText;
    });

    document.getElementById('btnPastePrefill').addEventListener('click', () => {
      sqlInput.value = prefillBox.value;
    });
  })();
</script>

</body>
</html>
